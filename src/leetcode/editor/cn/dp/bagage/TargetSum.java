

package leetcode.editor.cn.dp.bagage;
//ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ã€‚
//
// å‘æ•°ç»„ä¸­çš„'æ¯ä¸ªæ•´æ•°å‰æ·»åŠ  '+' æˆ– '- ï¼Œç„¶åä¸²è”èµ·æ‰€æœ‰æ•´æ•°ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª è¡¨è¾¾å¼ ï¼š
//
// 
// ä¾‹å¦‚ï¼Œnums = [2, 1] ï¼Œå¯ä»¥åœ¨ 2 ä¹‹å‰æ·»åŠ  '+' ï¼Œåœ¨ 1 ä¹‹å‰æ·»åŠ  '-' ï¼Œç„¶åä¸²è”èµ·æ¥å¾—åˆ°è¡¨è¾¾å¼ "+2-1" ã€‚ 
// 
//
// è¿”å›å¯ä»¥é€šè¿‡ä¸Šè¿°æ–¹æ³•æ„é€ çš„ã€è¿ç®—ç»“æœç­‰äº target çš„ä¸åŒ è¡¨è¾¾å¼ çš„æ•°ç›®ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1,1,1,1,1], target = 3
//è¾“å‡ºï¼š5
//è§£é‡Šï¼šä¸€å…±æœ‰ 5 ç§æ–¹æ³•è®©æœ€ç»ˆç›®æ ‡å’Œä¸º 3 ã€‚
//-1 + 1 + 1 + 1 + 1 = 3
//+1 - 1 + 1 + 1 + 1 = 3
//+1 + 1 - 1 + 1 + 1 = 3
//+1 + 1 + 1 - 1 + 1 = 3
//+1 + 1 + 1 + 1 - 1 = 3
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1], target = 1
//è¾“å‡ºï¼š1
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= nums.length <= 20 
// 0 <= nums[i] <= 1000 
// 0 <= sum(nums[i]) <= 1000 
// -1000 <= target <= 1000 
// 
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ å›æº¯ ğŸ‘ 1168 ğŸ‘ 0

class P494_TargetSum{
    public static void main(String[] args) {
        //æµ‹è¯•ä»£ç 
        Solution solution = new P494_TargetSum().new Solution();
        System.out.println(solution.findTargetSumWays(new int[]{1,1,1,1,1},1));
    }
//åŠ›æ‰£ä»£ç 
	//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    // é¦–å…ˆè¦åˆ¤æ–­ sum>target æ˜¯å¦æˆç«‹ï¼Œä¸æˆç«‹çš„è¯ï¼Œç›´æ¥è¿”å›0ï¼Œå› ä¸ºéƒ½æ˜¯æ­£æ•´æ•°
    // å¦‚æœsum>targetï¼Œé‚£ä¹ˆå…¶å®å¯ä»¥æŠŠæ•°åˆ†ä¸¤å †ä¸€å †ä¸ºå…¨æ­£å·ï¼Œå¦ä¸€å †å…¨ä¸ºè´Ÿå·ï¼Œä¸€å †ä¸º sum+ï¼Œå¦ä¸€å †ä¸º sum-ï¼›
    // sum+ - sum- = target; sum+ + sum- = sum  => 2*sum+ = sum+target
    // => sum+ = (target+sum)/2ï¼Œç›¸å½“äºæ‰¾sum+è¿™ä¸ªå’Œçš„æ„é€ æ•°
    // 1.dp[j],è¿˜æ˜¯ç”¨01èƒŒåŒ…ä¸€ç»´æ•°ç»„è¡¨ç¤ºï¼Œdp[j]è¡¨ç¤ºå½“å‰å’Œï¼ˆé‡é‡ï¼‰ä¸‹ï¼Œæœ‰å‡ ç§æ„é€ æ–¹æ³•ï¼Œ
    // 2.é€’æ¨å…¬å¼ï¼Œdp[j] += dp[j-nums[i]]ï¼›å¡«æ»¡å®¹é‡ä¸ºj - nums[i]çš„èƒŒåŒ…ï¼Œæœ‰dp[j - nums[i]]ç§æ–¹æ³•
    // é‚£åªè¦æœ‰nums[i]å‡‘dp[j]å°±å¯ä»¥ å¾—å‡º dp[j-nums[i]]
    // 3.åˆå§‹åŒ–ï¼Œå¦‚æœå½“å‰å’Œä¸º0ï¼Œä¸”nums[i]éƒ½ä¸ºæ­£æ•°ï¼Œé‚£åªæœ‰1ç§æ„é€ æ–¹æ³•ï¼Œdp[0]=1
    // 4.éå†é¡ºåºï¼Œå¤–å±‚ç‰©å“ï¼Œå†…å±‚å€’åºé‡é‡
    // 5.[1,1,1,1,1], target = 3ï¼Œsum+ = (target+sum) /2 = 4,å¦‚æœä¸ä¸ºæ­£æ•°ï¼Œåˆ™è¯´æ˜target+sumä¸ºå¥‡æ•°ï¼Œæ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œè¿”å›0
    // dp[4+1]={1,1,}
    public int findTargetSumWays(int[] nums, int target) {
        // æŒ‰ç…§æˆ‘çš„æ€è·¯è¯•è¯•...
        int sum=0;
        for (int i = 0; i < nums.length; i++) {
            sum+=nums[i];
        }
        // ç‰¹ä¾‹
        if ((sum+target)%2!=0){
            return 0;
        }
        // è¿˜æœ‰è´Ÿæ•°çš„æƒ…å†µ
        int t = (sum+target) / 2;
        if (t<0){
            t=-t;
        }

        int[] dp=new int[t+1];
        // åˆå§‹åŒ–
        dp[0]=1;
        //
        for (int i = 0; i < nums.length; i++) {
            for (int j = t; j >=nums[i] ; j--) {
                dp[j]=dp[j] + dp[j-nums[i]];
            }
        }
        return dp[t];
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}
